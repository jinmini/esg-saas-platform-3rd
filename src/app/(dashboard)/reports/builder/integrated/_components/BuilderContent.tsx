import React from 'react';import { Card, CardContent, CardDescription, CardHeader, CardTitle } from "@/shared/ui/Card";import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/shared/ui/Tabs";import { Badge } from "@/shared/ui/Badge";import { TrendingUp,Layers} from "lucide-react";import { INTEGRATED_SECTIONS } from '../_constants';interface BuilderContentProps {  selectedSection: string;  selectedSubsection: string;  responses: Record<string, string>;  onResponseChange: (subsectionId: string, value: string) => void;}const getFrameworkBadges = (frameworks: string[]) => {  const colors = {    'GRI': 'bg-green-100 text-green-800',    'SASB': 'bg-blue-100 text-blue-800',    'TCFD': 'bg-purple-100 text-purple-800'  };  return frameworks.map(framework => (    <Badge key={framework} variant="outline" className={colors[framework as keyof typeof colors]}>      {framework}    </Badge>  ));};export function BuilderContent({ selectedSection, selectedSubsection, responses, onResponseChange }: BuilderContentProps) {  const currentSection = INTEGRATED_SECTIONS[selectedSection as keyof typeof INTEGRATED_SECTIONS];  const currentSubsection = currentSection?.subsections.find(s => s.id === selectedSubsection);  return (    <div className="h-full flex flex-col">      <Tabs defaultValue="content" className="h-full flex flex-col">        <div className="px-6 pt-4 border-b">          <TabsList className="grid w-full grid-cols-2">            <TabsTrigger value="content">ë‚´ìš© ì‘ì„±</TabsTrigger>            <TabsTrigger value="preview">ë³´ê³ ì„œ ë¯¸ë¦¬ë³´ê¸°</TabsTrigger>          </TabsList>        </div>                <TabsContent value="content" className="flex-1 overflow-y-auto p-6 mt-0">          {currentSubsection ? (            <div className="space-y-6">              <div className="text-center p-6 bg-gradient-to-r from-orange-50 to-red-50 rounded-lg">                <div className="flex items-center justify-center gap-3 mb-4">                  <div className={`p-3 rounded-lg ${currentSection.color.replace('text-', 'bg-').replace('-800', '-200')}`}>                    {currentSection.icon}                  </div>                  <div>                    <h2 className="text-2xl font-bold">{currentSection.name}</h2>                    <p className="text-muted-foreground">{currentSubsection.name}</p>                  </div>                </div>                <p className="text-sm text-muted-foreground max-w-2xl mx-auto">                  {currentSubsection.description}                </p>                <div className="flex justify-center gap-2 mt-4">                  {getFrameworkBadges(currentSection.frameworks)}                  <Badge variant="outline">                    {currentSubsection.framework}                  </Badge>                </div>              </div>              <Card>                <CardHeader>                  <CardTitle className="flex items-center gap-2">                    <TrendingUp className="h-5 w-5" />                    ì‘ì„± ê°€ì´ë“œë¼ì¸                  </CardTitle>                </CardHeader>                <CardContent>                  <div className="space-y-3">                    <div className="p-3 bg-blue-50 rounded-lg">                      <h5 className="font-medium text-sm mb-2">ğŸ“‹ í¬í•¨í•´ì•¼ í•  ë‚´ìš©:</h5>                      <ul className="text-sm space-y-1">                        <li>â€¢ í˜„ì¬ ìƒí™© ë° ì ‘ê·¼ ë°©ì‹</li>                        <li>â€¢ êµ¬ì²´ì ì¸ ë°ì´í„° ë° ì§€í‘œ</li>                        <li>â€¢ ê´€ë ¨ ì •ì±… ë° í”„ë¡œì„¸ìŠ¤</li>                        <li>â€¢ í–¥í›„ ëª©í‘œ ë° ê³„íš</li>                      </ul>                    </div>                    <div className="p-3 bg-green-50 rounded-lg">                      <h5 className="font-medium text-sm mb-2">ğŸ¯ í’ˆì§ˆ ê¸°ì¤€:</h5>                      <ul className="text-sm space-y-1">                        <li>â€¢ ì •í™•ì„±: ê²€ì¦ ê°€ëŠ¥í•œ ë°ì´í„° ì œê³µ</li>                        <li>â€¢ ì™„ì „ì„±: ì¤‘ìš”í•œ ì •ë³´ ëˆ„ë½ ì—†ìŒ</li>                        <li>â€¢ ê· í˜•ì„±: ê¸ì •ì /ë¶€ì •ì  ì¸¡ë©´ ëª¨ë‘ í¬í•¨</li>                        <li>â€¢ ëª…í™•ì„±: ì´í•´ê´€ê³„ìê°€ ì‰½ê²Œ ì´í•´ ê°€ëŠ¥</li>                      </ul>                    </div>                  </div>                </CardContent>              </Card>              <Card>                <CardHeader>                  <CardTitle>ë‚´ìš© ì‘ì„±</CardTitle>                  <CardDescription>                    {currentSubsection.framework} ê¸°ì¤€ì— ë”°ë¼ {currentSubsection.name}ì— ëŒ€í•œ ì •ë³´ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”.                  </CardDescription>                </CardHeader>                <CardContent>                  <textarea                    className="w-full p-4 border rounded-md min-h-[350px] resize-y"                    placeholder={`${currentSubsection.name}ì— ëŒ€í•œ ìƒì„¸í•œ ì •ë³´ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”...\n\nì˜ˆì‹œ êµ¬ì¡°:\n1. ê°œìš” ë° ë°°ê²½\n2. í˜„ì¬ ìƒí™© ë¶„ì„\n3. ì£¼ìš” ì„±ê³¼ ë° ì§€í‘œ\n4. ë„ì „ê³¼ì œ ë° ê°œì„ ì‚¬í•­\n5. í–¥í›„ ê³„íš ë° ëª©í‘œ\n\nâ€» ${currentSubsection.framework} ê¸°ì¤€ì„ ì°¸ê³ í•˜ì—¬ ì‘ì„±í•˜ì„¸ìš”.`}                    value={responses[currentSubsection.id] || ''}                    onChange={(e) => onResponseChange(currentSubsection.id, e.target.value)}                  />                  {responses[currentSubsection.id] && (                    <div className="flex items-center gap-2 mt-3">                      <div className="w-2 h-2 bg-green-600 rounded-full" />                      <span className="text-xs text-green-600">                        ìë™ ì €ì¥ë¨ ({new Date().toLocaleTimeString()})                      </span>                    </div>                  )}                </CardContent>              </Card>            </div>          ) : (            <div className="flex items-center justify-center h-full">              <div className="text-center">                <Layers className="h-16 w-16 text-muted-foreground mx-auto mb-4" />                <h3 className="text-lg font-semibold mb-2">í•­ëª©ì„ ì„ íƒí•˜ì„¸ìš”</h3>                <p className="text-muted-foreground">                  ì™¼ìª½ì—ì„œ ë³´ê³ ì„œ ì„¹ì…˜ê³¼ ì„¸ë¶€ í•­ëª©ì„ ì„ íƒí•˜ì—¬ ì‹œì‘í•˜ì„¸ìš”.                </p>              </div>            </div>          )}        </TabsContent>                <TabsContent value="preview" className="flex-1 overflow-y-auto p-6 mt-0">          <div className="space-y-6">            <div className="text-center">              <h2 className="text-2xl font-bold mb-2">í†µí•© ESG ì§€ì†ê°€ëŠ¥ì„± ë³´ê³ ì„œ</h2>              <p className="text-muted-foreground">                GRI Standards + SASB Standards + TCFD Framework              </p>              <div className="flex justify-center gap-2 mt-4">                {getFrameworkBadges(['GRI', 'SASB', 'TCFD'])}              </div>            </div>                        {Object.values(INTEGRATED_SECTIONS).map((section) => (              <Card key={section.id}>                <CardHeader>                  <CardTitle className="flex items-center gap-3">                    <div className={`p-2 rounded-lg ${section.color.replace('text-', 'bg-').replace('-800', '-200')}`}>                      {section.icon}                    </div>                    {section.name}                  </CardTitle>                  <CardDescription>{section.description}</CardDescription>                  <div className="flex gap-2">                    {getFrameworkBadges(section.frameworks)}                  </div>                </CardHeader>                <CardContent>                  <div className="space-y-4">                    {section.subsections.map((subsection) => (                      <div key={subsection.id} className="border-l-4 border-blue-200 pl-4">                        <div className="flex items-start justify-between mb-2">                          <h4 className="font-medium">{subsection.name}</h4>                          <Badge variant="outline" className="text-xs">                            {subsection.framework}                          </Badge>                        </div>                        {responses[subsection.id] ? (                          <div className="whitespace-pre-wrap text-sm">{responses[subsection.id]}</div>                        ) : (                          <div className="text-muted-foreground italic text-sm">ë‚´ìš© ì…ë ¥ í•„ìš”</div>                        )}                      </div>                    ))}                  </div>                </CardContent>              </Card>            ))}          </div>        </TabsContent>      </Tabs>    </div>  );}